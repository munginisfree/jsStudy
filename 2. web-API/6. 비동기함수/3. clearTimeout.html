<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <button id="start">시작</button>
    <button id="cancel">취소</button>
    <p class="msg"></p>

    <script>
        const $start  = document.getElementById('start');
        const $cancel  = document.getElementById('cancel');
        const $msg = document.querySelector('.msg')

        // 타이머를 변수에 저장
        let timer = null;


        $start.addEventListener('click', e=>{
            if(timer){ //기존 타이머 대기열이 존재한다면
                clearTimeout(timer);
            }
            //메세지 초기화
            $msg.textContent = '';
            timer = setTimeout(()=>{
                $msg.textContent += '하이염';
                timer = null; //타이머 실행 후 초기화
            },2000);
        });

        $cancel.addEventListener('click', e=>{
            if(timer){
                clearTimeout(timer); //타이머 취소
                $msg.textContent = '메세지가 취소되었습니다.';
                timer = null;
            }
        });
    </script>
</body>
</html>