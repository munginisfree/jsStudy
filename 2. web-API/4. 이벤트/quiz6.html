<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <style>
        .wrap {
            width: 70%;
            height: 100vh;
            margin: auto;
            display: flex;
            align-items: center;
            flex-direction: column;
            justify-content: space-evenly;
        }

        .box {
            width: 700px;
            display: flex;
            justify-content: center;
            align-items: center;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
            border-radius: 10px;
            position: relative;
        }

        .box .btn {
            height: 50px;
            width: 100px;
            background-color: rgb(61, 81, 229);
            color: white;
            border: none;
            font-size: 20px;
        }

        .box img {
            width: 500px;
            height: 500px;
            opacity: 1;
            transition: opacity 0.5s ease-in-out;
        }

        .bottom {
            width: 65%;
            display: flex;
            list-style: none;
            justify-content: space-evenly;
        }

        .bottom img {
            width: 150px;
            height: 100px;
            object-fit: cover;
            border-radius: 10px;
            cursor: pointer;
        }
    </style>
</head>

<body>

    <div class="wrap">
        <section class="box">
            <button class="items btn" id="leftBtn">이전</button>
            <div class="items">
                <img src="../../img/download.jpeg" alt="현재 이미지는?" id="mainImage">
            </div>
            <button class="items btn" id="rightBtn">다음</button>
        </section>
        <div class="bottom">
            <li class="option"><img src='../../img/download.jpeg' alt="산리오"></li>
            <li class="option"><img src="../../img/download.png" alt="카카오"></li>
            <li class="option"><img src="../../img/download (1).jpeg" alt="라인"></li>
            <li class="option"><img src="../../img/download (2).jpeg" alt="아기상어"></li>
        </div>
    </div>

    <script>
        const images = document.querySelectorAll('.bottom img');
        const imageContainer = document.getElementById('mainImage');
        let currentIndex = 0;

        // Function to update the image based on currentIndex with fade effect
        function updateImage() {
            const nextImage = images[currentIndex].src;
            imageContainer.style.opacity = 0;
            setTimeout(() => {
                imageContainer.src = nextImage;
                imageContainer.style.opacity = 1;
            }, 500); // 500ms is the transition duration defined in CSS
        }

        // Event listener for the next button
        document.getElementById('rightBtn').addEventListener('click', () => {
            currentIndex = (currentIndex + 1) % images.length;
            updateImage();
        });

        // Event listener for the previous button
        document.getElementById('leftBtn').addEventListener('click', () => {
            currentIndex = (currentIndex - 1 + images.length) % images.length;
            updateImage();
        });

        // Event listener for clicking on the bottom images to directly change the main image
        images.forEach((image, index) => {
            image.addEventListener('click', () => {
                currentIndex = index;
                updateImage();
            });
        });
    </script>
</body>

</html>
